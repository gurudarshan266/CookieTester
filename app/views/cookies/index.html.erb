<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Bootstrap 101 Template</title>

    <!-- Bootstrap -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Karla" rel="stylesheet">
     
    <style>
    .badge{
      font-size: 14px;
    }
    </style> 


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
  <div class="container" style = "font-family: 'Karla', sans-serif; background: #fff; margin-top: 1%; border-radius: 10px;  opacity:0.95">
    <h1>Network Security Project</h1>
    <p> By Raghav, Guru, Rish and Jason</p>
    <p>
    Number of Cookies : <input type="text" class="form-control" id="val" style="width:200px;"/>
    </br>
    <input type="checkbox" value="true" id = "exp">Expire in 10 Seconds</label>
    <br/>
    <button type="button" class="btn btn-primary" onclick="addCookie();">Add Non-Secure Cookie</button>
    <button type="button" class="btn btn-primary" onclick="addSecCookie();">Add Secure Cookie</button>
    </br>
    </p>
    <blockquote>
    <p id = "cookies">
    </p>
    </blockquote>
  </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <script type="text/javascript">

     function createCookie(name,value) {
      var expires = "";
      var security = "";
      if(document.getElementById("exp").checked)
      {
        var date = new Date();
        date.setTime(date.getTime()+(10*1000));
        expires = "; expires="+date.toGMTString();
      } 
      document.cookie = name+"="+value+ security + expires+"; path=/";
      refreshCookies();
    }
    function refreshCookies()
    {
        var theCookies = document.cookie.split(';');
        var aString = 'Cookie Count = '+theCookies.length+"<br><br>";
        aString += '<table style="width:100%">\n<tr>\n';
        for (var i = 1 ; i <= theCookies.length; i++) {
            var cookie_key = theCookies[i-1].split('=')[0];
            if(!cookie_key.includes("NS"))
            {
              aString +=   '<td><button type="button" class="btn btn-success" style="width:100px"><span class="glyphicon glyphicon-lock"></span>'+cookie_key + "\n"+'</button></td>';
            }
            else
            {
              aString +=   '<td><button type="button" class="btn btn-warning" style="width:100px">'+cookie_key + "\n"+'</button></td>';
            }
            if(i % 10 == 0)
            {
              aString += "</tr><tr>"
            }
//              aString += '</br>';
        }

        aString+="</tr></table>";

        document.getElementById("cookies").innerHTML = aString;
    }

    
    i = 1;
    function addCookie()
    {
      var val = document.getElementById('val').value;
      var expires = "";
      if(document.getElementById("exp").checked)
      {
        var date = new Date();
        date.setTime(date.getTime()+(10*1000));
        expires = "; expires="+date.toGMTString();
      }   

      for(k = 1; k <= val; k++){
      var security = "";
      document.cookie = "NS"+i+"="+"dummy"+ security + expires+"; path=/";
      i++;
    }
      refreshCookies();
    }

    y = 1;
    function addSecCookie()
    {
      var val = document.getElementById('val').value;
      var expires = "";
      if(document.getElementById("exp").checked)
      {
        var date = new Date();
        date.setTime(date.getTime()+(10*1000));
        expires = "; expires="+date.toGMTString();
      } 
      for(k = 1; k <= val; k++){
      var security = "; secure";
      document.cookie = "S"+y+"="+"dummy"+ security + expires+"; path=/";
      y++;
    }
      refreshCookies();
    }
    </script>
  </body>
</html>
